<!DOCTYPE html>
<html>
    <head>
        <title>Where am I?</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="UTF-8">
        <meta name="description" content="Am I at the studio?">
        <meta name="keywords" content="Art, artist studio, presence, online">
        <meta name="author" content="Vincent">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@vncntxyz" />
        <meta name="twitter:creator" content="@vincencharleboi" />
        <meta property="og:url" content="https://vincent.charlebois.info/am-i/" />
        <meta property="og:title" content="Where is Vincent Charlebois?" />
        <meta property="og:description" content="An exercise in online presence and time keeping as part of the project CONSECUTIVES DAYS AT THE STUDIO" />
        <meta property="og:image" content="https://vincent.charlebois.info/am-i/image.png" />
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="flex-container">
            <div class="row"> 
                <div class="flex-item" id="textcontainer"></div>
            </div>
        </div>
        <div class="teleprompt">
                <div class="flex-item" id="datecontainer"></div>
                <div class="flex-item" id="tempcontainer"></div>
                <div class="flex-item" id="tempchange"></div>
        </div>
        <script type="text/javascript">
        let myDiv = document.getElementById('textcontainer');
        let otherDiv = document.getElementById('datecontainer');
        let tempDiv = document.getElementById('tempcontainer');
        let tempChange = document.getElementById('tempchange');
        function CheckIf() {
            var myRequest = new Request('present.txt');
            fetch(myRequest).then(function(response) {
            return response.text().then(function(text) {
            myDiv.innerHTML = text;
            if (text === "I am not at the studio.") {
                var otherRequest = new Request('counting.txt');
                var tempRequest = new Request('HOT.txt');
                fetch(otherRequest).then(function(response) {
                return response.text().then(function(text) {
                otherDiv.innerHTML = text;
        });
            });
            fetch(tempRequest).then(function(response) {
                return response.text().then(function(text) {
                const temperature = text.split(" ");
                let past = temperature[0];
                let change = temperature[1];
                if (Math.sign(change) === -1) {
                    tempDiv.innerHTML = 'when the indoor temperature was ' + past + '\u00B0C';
                    tempChange.innerHTML = (change * -1) + '\u00B0C warmer than when I arrived.';
                }
                else if (Math.sign(change) === 1) {
                    tempDiv.innerHTML = 'when the indoor temperature was ' + past + '\u00B0C';
                    tempChange.innetHTML = (change * 1) + '\u00B0C cooler than when I arrived. '
                }
        });
            });
            }
        });
            });
        }
        window.onload = CheckIf;
        </script>
   
    </body>
</html>