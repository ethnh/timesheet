<!DOCTYPE html>
<html>
    <head>
        <title>Where am I?</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="UTF-8">
        <meta name="description" content="Am I at the studio?">
        <meta name="keywords" content="Art, artist studio, presence, online">
        <meta name="author" content="Vincent">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@vncntxyz" />
        <meta name="twitter:creator" content="@vincencharleboi" />
        <meta property="og:url" content="https://vincent.charlebois.info/am-i/" />
        <meta property="og:title" content="Where is Vincent Charlebois?" />
        <meta property="og:description" content="An exercise in online presence and time keeping as part of the project CONSECUTIVES DAYS AT THE STUDIO" />
        <meta property="og:image" content="https://vincent.charlebois.info/am-i/image.png" />
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="flex-container">
            <div class="row"> 
                <div class="flex-item" id="textcontainer">I am not at the studio.
                </div>
            </div>
        </div>
        <div class="teleprompt">
            <div class="scroll-left">
                <div class="flex-item" id="datacontainer">
                    Last seen on 2022-05-22 17:40:04
                    when the indoor temperature was 27.35°C 
                    1.85°C warmer than when I arrived.
                </div>
            </div>
        </div>
        <script type="text/javascript">
        let myDiv = document.getElementById('textcontainer');
        let otherDiv = document.getElementById('datacontainer');
        function CheckIf() {
            var myRequest = new Request('present.txt');
            fetch(myRequest).then(function(response) {
            return response.text().then(function(text) {
            myDiv.innerHTML = text;
            var presence = text;
            if (presence === "I am not at the studio.") {
                var otherRequest = new Request('counting.txt');
                fetch(otherRequest).then(function(response) {
                return response.text().then(function(text) {
                otherDiv.innerHTML = text;
        });
            });
            
            
            var tempRequest = new Request('HOT.txt');
                
            fetch(tempRequest).then(function(response) {
                return response.text().then(function(text) {
                const temperature = text.split(" ");
                let past = temperature[0];
                let change = temperature[1];
                if (Math.sign(change) === -1) {
                    otherDiv.innerHTML += ' \u2014 Indoor temperature was ' + past + '\u00B0C';
                    otherDiv.innerHTML += ' \u2014 ' + (change * -1) + '\u00B0C warmer than last recorded temperature';
                    otherDiv.innerHTML += ' \u2014 The studio is only one of many places where art gets made.';                    
                    otherDiv.innerHTML += '                                                       ';
                }
                else if (Math.sign(change) === 1) {
                    otherDiv.innerHTML += ' \u2014 Indoor temperature was ' + past + '\u00B0C';
                    otherDiv.innerHTML += ' \u2014 ' + (change * 1) + '\u00B0C cooler than last recorded temperature'
                    otherDiv.innerHTML += ' \u2014 The studio is only one of many places where art gets made.';                    
                    otherDiv.innerHTML += '                                                       ';
                }
        });
            });
        }
            else {


            
            var tempRequest = new Request('HOT.txt');
                
                fetch(tempRequest).then(function(response) {
                    return response.text().then(function(text) {
                    const temperature = text.split(" ");
                    let past = temperature[0];
                    let change = temperature[1];
                    if (Math.sign(change) === -1) {
                        otherDiv.innerHTML = 'Indoor temperature was ' + past + '\u00B0C';
                        otherDiv.innerHTML += ' \u2014 ' + (change * -1) + '\u00B0C warmer than last recorded temperature';
                        otherDiv.innerHTML += ' \u2014 Please text +1 (514) 231-1278 for a live weather update.';                    
                        otherDiv.innerHTML += '                                                       ';
                    }
                    else if (Math.sign(change) === 1) {
                        otherDiv.innerHTML = ' Indoor temperature was ' + past + '\u00B0C';
                        otherDiv.innerHTML += ' \u2014 ' + (change * 1) + '\u00B0C cooler than last recorded temperature'
                        otherDiv.innerHTML += ' \u2014 Please text +1 (514) 231-1278 for a live weather update.';                    
                        otherDiv.innerHTML += '                                                       ';
                    }
            });
                });
        
        }
            });
        });
    };
            
        
            
        window.onload = CheckIf;
        </script>
   
    </body>
</html>